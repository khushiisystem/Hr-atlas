<ion-header [translucent]="true" mode="md">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()" fill="clear" [ariaDisabled]="true" class="noRipple noBg">
        <ion-icon name="close" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Edit Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
<div class="container">
    <ion-grid>
      <ion-row class="row_one">
        <ion-col size="12">
          <div class="img-div">
            <img [src]="imgUrl" alt="Employee">
            <span class="camera_btn">
              <ion-icon name="camera" aria-hidden="true"></ion-icon>
            </span>
          </div>
        </ion-col>

        <ion-col size="12">
          <div class="form-input">
            <ion-input labelPlacement="floating" fill="outline" formControlName="email" placeholder="Enter Email" type="email">
              <div slot="label">Email <ion-text color="danger">*</ion-text></div>
            </ion-input>
          </div>
          <ion-text color="danger" class="error_txt" *ngIf="employeeForm.controls['email'].touched && employeeForm.controls['email'].errors">
            {{employeeForm.controls['email'].value ? 'Please enter a valid email.' : 'Email is required'}}
          </ion-text>
        </ion-col>

        <ion-col size="12">
          <div class="form-input">
            <ion-input labelPlacement="floating" fill="outline" formControlName="officialEmail" placeholder="Enter Email" type="email" [readonly]="true">
              <div slot="label">Official Email <ion-text color="danger">*</ion-text></div>
            </ion-input>
          </div>
        </ion-col>

        <ion-col size="12">
          <div class="form-input">
            <ion-input labelPlacement="floating" fill="outline" formControlName="mobileNumber" placeholder="Mobile Number" type="tel">
              <div slot="label">Mobile Number <ion-text color="danger">*</ion-text></div>
            </ion-input>
          </div>
          <ion-text color="danger" class="error_txt" *ngIf="employeeForm.controls['mobileNumber'].touched && employeeForm.controls['mobileNumber'].errors">
            {{employeeForm.controls['mobileNumber'].value ? 'Please enter a valid number.' : 'Mobile number is required'}}
          </ion-text>
        </ion-col>

        <ion-col size="12">
          <div class="form-input">
            <ion-input labelPlacement="floating" fill="outline" formControlName="alternateMobileNumber" placeholder="Alternate Mobile Number" type="tel">
              <div slot="label">Alternate Mobile Number </div>
            </ion-input>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
    <form [formGroup]="employeeForm">
      <ion-card mode="md">
        <ion-card-header>
          <ion-card-title>Personal Information</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-row class="row_one">
            <ion-col size="12" sizeSm="6">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" formControlName="firstName" placeholder="First Name" type="text" [readonly]="true">
                  <div slot="label">First Name <ion-text color="danger">*</ion-text></div>
                </ion-input>
              </div>
              <ion-text color="danger" class="error_txt" *ngIf="employeeForm.controls['firstName'].touched && employeeForm.controls['firstName'].errors">
                {{employeeForm.controls['firstName'].value ? 'Please enter a valid name.' : 'First name is required'}}
              </ion-text>
            </ion-col>
  
            <ion-col size="12" sizeSm="6">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" formControlName="lastName" placeholder="Last Name" type="text" [readonly]="true">
                  <div slot="label">Last Name</div>
                </ion-input>
              </div>
              <ion-text color="danger" class="error_txt" *ngIf="employeeForm.controls['lastName'].touched && employeeForm.controls['lastName'].errors">
                Please enter a valid name.
              </ion-text>
            </ion-col>

            <ion-col size="12" sizeSm="6">
              <div class="form-input">
                <ion-select labelPlacement="floating" fill="outline" formControlName="gender" placeholder="Select" interface="action-sheet">
                  <div slot="label">Gender <ion-text color="danger">*</ion-text></div>
                  <ion-select-option value="Male">Male</ion-select-option>
                  <ion-select-option value="Female">Female</ion-select-option>
                </ion-select>
              </div>
            </ion-col>
  
            <ion-col size="12" sizeSm="6">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" [readonly]="true" [value]="getDate() | date">
                  <div slot="label">Date of birth <ion-text color="danger">*</ion-text></div>
                </ion-input>
              </div>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>

      <ion-card mode="md">
        <ion-card-header>
          <ion-card-title>Contact Information</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-row class="row_one">
            <ion-col size="12" sizeSm="6">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" formControlName="firstName" placeholder="First Name" type="text" [readonly]="true">
                  <div slot="label">First Name <ion-text color="danger">*</ion-text></div>
                </ion-input>
              </div>
              <ion-text color="danger" class="error_txt" *ngIf="employeeForm.controls['firstName'].touched && employeeForm.controls['firstName'].errors">
                {{employeeForm.controls['firstName'].value ? 'Please enter a valid name.' : 'First name is required'}}
              </ion-text>
            </ion-col>
  
            <ion-col size="12" sizeSm="6">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" formControlName="lastName" placeholder="Last Name" type="text" [readonly]="true">
                  <div slot="label">Last Name</div>
                </ion-input>
              </div>
              <ion-text color="danger" class="error_txt" *ngIf="employeeForm.controls['lastName'].touched && employeeForm.controls['lastName'].errors">
                Please enter a valid name.
              </ion-text>
            </ion-col>

            <ion-col size="12" sizeSm="6">
              <div class="form-input">
                <ion-select labelPlacement="floating" fill="outline" formControlName="gender" placeholder="Select" interface="action-sheet">
                  <div slot="label">Gender <ion-text color="danger">*</ion-text></div>
                  <ion-select-option value="Male">Male</ion-select-option>
                  <ion-select-option value="Female">Female</ion-select-option>
                </ion-select>
              </div>
            </ion-col>
  
            <ion-col size="12" sizeSm="6">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" [readonly]="true" [value]="getDate() | date">
                  <div slot="label">Date of birth <ion-text color="danger">*</ion-text></div>
                </ion-input>
              </div>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>

      <ion-card mode="md">
        <ion-card-header>
          <ion-card-title>Addresses</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-row class="row_one" formGroupName="currentAddress">
            <ion-col size="12">
              <ion-label>Current Address</ion-label>
            </ion-col>
            <ion-col size="12" sizeMd="6">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" formControlName="addressLine1" placeholder="Address Line 1" type="text">
                  <div slot="label">Address Line 1 <ion-text color="danger">*</ion-text></div>
                </ion-input>
              </div>
              <ion-text color="danger" class="error_txt" *ngIf="employeeForm.controls['firstName'].touched && employeeForm.controls['firstName'].errors">
                {{employeeForm.controls['firstName'].value ? 'Please enter a valid name.' : 'First name is required'}}
              </ion-text>
            </ion-col>
  
            <ion-col size="12" sizeMd="6">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" formControlName="addressLine2" placeholder="Address Line 2" type="text">
                  <div slot="label">Address Line 2 <ion-text color="danger">*</ion-text></div>
                </ion-input>
              </div>
            </ion-col>

            <ion-col size="6" sizeMd="4">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" formControlName="city" placeholder="City" type="text">
                  <div slot="label">City <ion-text color="danger">*</ion-text></div>
                </ion-input>
              </div>
            </ion-col>
  
            <ion-col size="6" sizeMd="4">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" formControlName="state" placeholder="State" type="text">
                  <div slot="label">State <ion-text color="danger">*</ion-text></div>
                </ion-input>
              </div>
            </ion-col>
  
            <ion-col size="6" sizeMd="4">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" formControlName="country" placeholder="Country" type="text">
                  <div slot="label">Country <ion-text color="danger">*</ion-text></div>
                </ion-input>
              </div>
            </ion-col>
  
            <ion-col size="6" sizeMd="4">
              <div class="form-input">
                <ion-input labelPlacement="floating" fill="outline" formControlName="zipCode" placeholder="Zip Code" type="text">
                  <div slot="label">Zip Code <ion-text color="danger">*</ion-text></div>
                </ion-input>
              </div>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>

      <ion-modal [isOpen]="openCalendar" [initialBreakpoint]="1">
        <ng-template>        
          <ion-content>
            <ion-datetime presentation="date" mode="md" [size]="'cover'" #datetime (ionChange)="selectDate($any($event))" [value]="getDate().toISOString()">
              <span slot="title">Date of Birth</span>
              <ion-buttons slot="buttons">
                <ion-button color="danger" (click)="datetime.cancel();openCalendar = false">Cancel</ion-button>
                <ion-button color="primary" (click)="datetime.confirm();openCalendar = false">Done</ion-button>
              </ion-buttons>
            </ion-datetime>
          </ion-content>
        </ng-template>
      </ion-modal>
    </form>
  </div>
</ion-content>

<ion-footer>
  <ion-button type="submit" class="submitBtn" [disabled]="employeeForm.invalid" color="primary" (click)="submit()" expand="full" shape="round">Update</ion-button>
</ion-footer>
