<ion-header [translucent]="true" mode="md">
  <ion-toolbar>
    <ion-button slot="start" (click)="goBack()" fill="clear" [ariaDisabled]="true" class="noRipple noBg">
      <ion-icon name="close" slot="icon-only"></ion-icon>
    </ion-button>
    <ion-title>Add Employee</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="container">
    <form [formGroup]="employeeForm">
      <ion-grid>
        <ion-row class="row_one">
          <ion-col size="12" sizeSm="6">
            <div class="form-input">
              <ion-input labelPlacement="floating" fill="outline" formControlName="firstName" placeholder="First Name" type="text">
                <div slot="label">First Name <ion-text color="danger">*</ion-text></div>
              </ion-input>
            </div>
            <ion-text color="danger" class="error_txt" *ngIf="employeeForm.controls['firstName'].touched && employeeForm.controls['firstName'].errors">
              {{employeeForm.controls['firstName'].value ? 'Please enter a valid name.' : 'First name is required'}}
            </ion-text>
          </ion-col>

          <ion-col size="12" sizeSm="6">
            <div class="form-input">
              <ion-input labelPlacement="floating" fill="outline" formControlName="lastName" placeholder="Last Name" type="text">
                <div slot="label">Last Name</div>
              </ion-input>
            </div>
            <ion-text color="danger" class="error_txt" *ngIf="employeeForm.controls['lastName'].touched && employeeForm.controls['lastName'].errors">
              Please enter a valid name.
            </ion-text>
          </ion-col>

          <ion-col size="12">
            <div class="form-input">
              <ion-input labelPlacement="floating" fill="outline" formControlName="email" placeholder="Enter Email" type="email">
                <div slot="label">Email <ion-text color="danger">*</ion-text></div>
              </ion-input>
            </div>
            <ion-text color="danger" class="error_txt" *ngIf="employeeForm.controls['email'].touched && employeeForm.controls['email'].errors">
              {{employeeForm.controls['email'].value ? 'Please enter a valid email.' : 'Email is required'}}
            </ion-text>
          </ion-col>

          <ion-col size="12">
            <div class="form-input">
              <ion-input labelPlacement="floating" fill="outline" formControlName="mobileNumber" placeholder="Mobile Number" type="tel">
                <div slot="label">Mobile Number <ion-text color="danger">*</ion-text></div>
              </ion-input>
            </div>
            <ion-text color="danger" class="error_txt" *ngIf="employeeForm.controls['mobileNumber'].touched && employeeForm.controls['mobileNumber'].errors">
              {{employeeForm.controls['mobileNumber'].value ? 'Please enter a valid number.' : 'Mobile number is required'}}
            </ion-text>
          </ion-col>

          <ion-col size="12" sizeSm="6">
            <div class="form-input">
              <ion-select labelPlacement="floating" fill="outline" formControlName="gender" placeholder="Select" interface="action-sheet">
                <div slot="label">Gender <ion-text color="danger">*</ion-text></div>
                <ion-select-option value="Male">Male</ion-select-option>
                <ion-select-option value="Female">Female</ion-select-option>
              </ion-select>
            </div>
          </ion-col>

          <ion-col size="12" sizeSm="6">
            <div class="form-input">
              <ion-input labelPlacement="floating" fill="outline" [readonly]="true" [value]="getDate() | date" (ionFocus)="openCalendar = true" (ionActive)="openCalendar = true">
                <div slot="label">Date of birth <ion-text color="danger">*</ion-text></div>
              </ion-input>
              <div class="toggleBtn">
                <ion-button fill="clear" (click)="openCalendar = true">
                  <ion-icon name="calendar-number-outline" aria-hidden="true" slot="icon-only"></ion-icon>
                </ion-button>
              </div>
            </div>
          </ion-col>

          <ion-col size="12">
            <ion-button type="submit" class="submitBtn" [disabled]="employeeForm.invalid" color="primary" (click)="submit()" expand="full" shape="round">Add Employee</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-modal [isOpen]="openCalendar" [initialBreakpoint]="1">
        <ng-template>        
          <ion-content>
            <ion-datetime presentation="date" mode="md" [size]="'cover'" #datetime (ionChange)="selectDate($any($event))" [value]="getDate().toISOString()">
              <span slot="title">Date of Birth</span>
              <ion-buttons slot="buttons">
                <ion-button color="danger" (click)="datetime.cancel();openCalendar = false">Cancel</ion-button>
                <ion-button color="primary" (click)="datetime.confirm();openCalendar = false">Done</ion-button>
              </ion-buttons>
            </ion-datetime>
          </ion-content>
        </ng-template>
      </ion-modal>
    </form>

  </div>
</ion-content>
