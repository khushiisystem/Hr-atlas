<ion-header [translucent]="true" mode="md">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button mode="md" [routerDirection]="'back'" [routerLink]="['/tabs/projects']" routerLinkActive="router-link-active" type="button" fill="clear" [ariaDisabled]="true" class="noRipple noBg">
        <ion-icon name="chevron-back-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Assign Project</ion-title>
    <ion-thumbnail slot="end" class="logo_img ion-margin-end">
      <ion-img src="../../../assets/icon/hr-atlas_logo_2.png" alt="HR-Atlas"></ion-img>
    </ion-thumbnail>
    <!-- <ion-progress-bar type="indeterminate" *ngIf="!isDataLoaded"></ion-progress-bar> -->    
    <ion-progress-bar type="indeterminate" *ngIf="!isDataLoaded"></ion-progress-bar>         
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <form [formGroup]="assignProjectForm" class="ion-padding">
    <ion-select formControlName="title" label="Projects" interface="popover" label-placement="floating" mode="md" fill="solid">
      <div *ngFor="let project of projects; index as i">
        <ion-select-option value="{{project.guid}}">{{project.title}}</ion-select-option>
      </div>
    </ion-select>    
    <br />
    <ion-select formControlName="allEmp" label="Employees List" interface="popover" label-placement="floating" fill="solid" mode="md" [multiple]="false">
      <ion-select-option *ngFor="let emp of allEmployeeList; index as i" value="{{emp.guid}}">{{ emp.firstName }} {{ emp.lastName }}</ion-select-option>
    </ion-select>

    <!-- <ion-row>
      <ion-col size="6">
        <ion-item detail="false" id="start-date">
          <ion-icon [name]="'calendar-number'" aria-hidden="true" slot="start" [color]="'medium'"></ion-icon>
          <ion-input labelPlacement="floating" [value]="getStartDate() |date:'yyyy-MM-dd'" placeholder="End Date" type="date" readonly="true">
            <div slot="label">Start Date</div>
          </ion-input>
          <ion-icon [name]="'alert-circle'" aria-hidden="true" slot="end" [color]="'danger'" *ngIf="assignProjectForm.controls['startDate'].touched && assignProjectForm.controls['startDate'].errors"></ion-icon>
        </ion-item>
      </ion-col>
      <ion-col size="6">
        <ion-item detail="false" id="end-date">
          <ion-icon [name]="'calendar-number'" aria-hidden="true" slot="start" [color]="'medium'"></ion-icon>
          <ion-input labelPlacement="floating" [value]="getEndDate() |date:'yyyy-MM-dd'" placeholder="End Date" type="date" readonly="true">
            <div slot="label">End Date</div>
          </ion-input>
          <ion-icon [name]="'alert-circle'" aria-hidden="true" slot="end" [color]="'danger'" *ngIf="assignProjectForm.controls['endDate'].touched && assignProjectForm.controls['endDate'].errors"></ion-icon>
        </ion-item>
      </ion-col>
    </ion-row> -->
  </form>

  <!-- <ion-modal trigger="start-date" #dobModal [initialBreakpoint]="1" [keepContentsMounted]="true" (didDismiss)="openCalendar = false" mode="md" [initialBreakpoint]="0.5" [showBackdrop]="true">
    <ng-template>
      <ion-content>
        <ion-datetime presentation="date-time" mode="md" [preferWheel]="true" [size]="'cover'" #datetime (ionChange)="setStartDate($any($event))" [max]="today.toISOString()">
          <span slot="title">Date of Birth</span>
          <ion-buttons slot="buttons">
            <ion-button mode="md" color="danger" (click)="datetime.cancel(); dobModal.dismiss()">Cancel</ion-button>
            <ion-button mode="md" color="primary" (click)="datetime.confirm(); dobModal.dismiss()">Done</ion-button>
          </ion-buttons>
        </ion-datetime>
      </ion-content>
    </ng-template>
  </ion-modal>

  <ion-modal trigger="end-date" #dobModal [initialBreakpoint]="1" [keepContentsMounted]="true" (didDismiss)="openCalendar = false" mode="md" [initialBreakpoint]="0.5" [showBackdrop]="true">
    <ng-template>
      <ion-content>
        <ion-datetime presentation="date-time" mode="md" [preferWheel]="true" [size]="'cover'" #datetime (ionChange)="setEndDate($any($event))" [max]="today.toISOString()">
          <span slot="title">Date of Birth</span>
          <ion-buttons slot="buttons">
            <ion-button mode="md" color="danger" (click)="datetime.cancel(); dobModal.dismiss()">Cancel</ion-button>
            <ion-button mode="md" color="primary" (click)="datetime.confirm(); dobModal.dismiss()">Done</ion-button>
          </ion-buttons>
        </ion-datetime>
      </ion-content>
    </ng-template>
  </ion-modal> -->
  
  <ion-button mode="md" type="submit" class="submitBtn" [disabled]="assignProjectForm.invalid || isInProgress" (click)="submit()"  color="primary" expand="full" shape="round">Submit</ion-button>
</ion-content>